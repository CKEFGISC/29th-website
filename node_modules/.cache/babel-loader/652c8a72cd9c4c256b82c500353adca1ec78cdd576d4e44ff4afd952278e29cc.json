{"ast":null,"code":"import React from\"react\";import{useRouteError}from\"react-router-dom\";import $ from\"jquery\";// import { Helmet } from \"react-helmet\";\nimport Offcanvas from\"../offcanvas/OffCanvas\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export function handleFadeIn(){$(\".fade-in.hiding\").each((i,element)=>{var object=$(element);var windowObject=$(\".main-wrapper\");if(object.position().top+object.outerHeight()*0.5<windowObject.scrollTop()+windowObject.height()&&!object.parents(\"*\").hasClass(\"inactive\")){object.removeClass(\"hiding\");}});}export function handleHeaderSize(){let mainWrapper=$(\".main-wrapper\");$(\"header\").toggleClass(\"header-shrink\",mainWrapper.scrollTop()>50&&mainWrapper.prop(\"scrollHeight\")>window.outerHeight*1.2);}export function windowOnLoad(){$(\".main-wrapper\").on(\"scroll\",()=>window.requestAnimationFrame(handleFadeIn));$(window).on(\"resize\",handleFadeIn);handleFadeIn();$(\".main-wrapper\").on(\"scroll\",handleHeaderSize);}export function switchPageAnimation(){$(\".main-wrapper\")[0].scrollTo({top:0,behavior:\"instant\"});var footerElement=$(\"footer\")[0];footerElement.style.animation=\"none\";window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{footerElement.style.animation=null;});});}export default function Page(props){React.useEffect(()=>{document.title=\"\".concat(props.title,\" | \\u5EFA\\u5317\\u96FB\\u8CC7 29th\");switchPageAnimation();// for mobile\nwindowOnLoad();// for PC\nwindow.addEventListener(\"load\",windowOnLoad);},[props.title]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-content-wrapper\",onLoad:handleFadeIn,children:props.children}),/*#__PURE__*/_jsx(Offcanvas,{})]});};export function ErrorPage(){const error=useRouteError();return/*#__PURE__*/_jsxs(\"div\",{id:\"error-page\",className:\"container py-5 d-flex flex-column align-items-center flex-grow-1\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Oops!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sorry, an unexpected error has occurred.\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"i\",{children:[error.status,\": \",error.statusText||error.message]})})]});}","map":{"version":3,"names":["React","useRouteError","$","Offcanvas","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","handleFadeIn","each","i","element","object","windowObject","position","top","outerHeight","scrollTop","height","parents","hasClass","removeClass","handleHeaderSize","mainWrapper","toggleClass","prop","window","windowOnLoad","on","requestAnimationFrame","switchPageAnimation","scrollTo","behavior","footerElement","style","animation","Page","props","useEffect","document","title","concat","addEventListener","children","className","onLoad","ErrorPage","error","id","status","statusText","message"],"sources":["/home/demonaarwu/projects/29th-website/src/utils/Page.js"],"sourcesContent":["import React from \"react\";\nimport { useRouteError } from \"react-router-dom\";\nimport $ from \"jquery\";\n// import { Helmet } from \"react-helmet\";\n\nimport Offcanvas from \"../offcanvas/OffCanvas\";\n\nexport function handleFadeIn() {\n  $(\".fade-in.hiding\").each((i, element) => {\n    var object = $(element);\n    var windowObject = $(\".main-wrapper\");\n\n    if (object.position().top + object.outerHeight() * 0.5\n      < windowObject.scrollTop() + windowObject.height()\n      && !object.parents(\"*\").hasClass(\"inactive\")) {\n      object.removeClass(\"hiding\");\n    }\n  });\n}\n\nexport function handleHeaderSize() {\n  let mainWrapper = $(\".main-wrapper\");\n  $(\"header\").toggleClass(\n    \"header-shrink\", \n    mainWrapper.scrollTop() > 50 && mainWrapper.prop(\"scrollHeight\") > window.outerHeight * 1.2\n  );\n}\n\nexport function windowOnLoad() {\n  $(\".main-wrapper\").on(\"scroll\", () => window.requestAnimationFrame(handleFadeIn));\n  $(window).on(\"resize\", handleFadeIn);\n  handleFadeIn();\n\n  $(\".main-wrapper\").on(\"scroll\", handleHeaderSize);\n}\n\nexport function switchPageAnimation() {\n  $(\".main-wrapper\")[0].scrollTo({ top: 0, behavior: \"instant\" });\n\n  var footerElement = $(\"footer\")[0];\n  footerElement.style.animation = \"none\";\n  window.requestAnimationFrame(() => {\n    window.requestAnimationFrame(() => {\n      footerElement.style.animation = null;\n    });\n  });\n}\n\nexport default function Page(props) {\n  React.useEffect(() => {\n    document.title = `${props.title} | 建北電資 29th`;\n\n    switchPageAnimation();\n\n    // for mobile\n    windowOnLoad();\n    // for PC\n    window.addEventListener(\"load\", windowOnLoad);\n  }, [ props.title ]);\n  return (<>\n    {/* <Helmet>\n      <meta property=\"og:title\" content={`${props.title} | 建北電資 28th`} />\n      <meta property=\"og:url\" content={document.URL} />\n    </Helmet> */}\n    <div className=\"page-content-wrapper\" onLoad={handleFadeIn}>\n      {props.children}\n    </div>\n    <Offcanvas />\n  </>);\n};\n\nexport function ErrorPage() {\n  const error = useRouteError();\n\n  return (\n    <div id=\"error-page\" className=\"container py-5 d-flex flex-column align-items-center flex-grow-1\">\n      <h1>Oops!</h1>\n      <p>Sorry, an unexpected error has occurred.</p>\n      <p>\n        <i>{error.status}: {error.statusText || error.message}</i>\n      </p>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}