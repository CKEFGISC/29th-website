{"ast":null,"code":"import React from\"react\";import\"../News.scss\";import Loading from\"../../../utils/Loading\";import{switchPageAnimation}from\"../../../utils/Page\";import contentPath from\"../content.md\";import{useNavigate}from\"react-router-dom\";import Markdown from\"../../../utils/Remarkable\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function handle(textContent,setText,goTo){var rawNews=textContent.split(\"<%-== next ==-%>\");var news=[];for(let i=rawNews.length-1;i>=0;--i){var lines=rawNews[i].trim().split(/\\r\\n|\\r|\\n/g);var title=lines[0];if(title.startsWith(\"# \"))title=title.slice(2);else{title=\"Untitled\";lines.unshift(\"# Untitled\");}news.push(/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{cursor:\"pointer\"},onClick:()=>goTo(\"\".concat(i)),children:[/*#__PURE__*/_jsx(\"span\",{className:\"opacity-50\",children:\"#\".concat(i)}),\"\\xA0\",/*#__PURE__*/_jsx(Markdown,{content:title,inline:true})]}),/*#__PURE__*/_jsx(\"hr\",{})]},\"news-\".concat(i)));}setText(news);}function PageItem(props){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"page-link\",children:/*#__PURE__*/_jsx(\"span\",{children:props.children})})});}export default function NewsList(){const goTo=useNavigate();const[text,setText]=React.useState();React.useEffect(()=>{switchPageAnimation();fetch(contentPath).then(response=>response.text()).then(textContent=>handle(textContent,setText,goTo));},[goTo]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{id:\"title-bar\",children:\"\\u6700\\u65B0\\u6D88\\u606F\"}),/*#__PURE__*/_jsx(\"section\",{id:\"list-news\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"news-list\",children:text||/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"100dvh\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",width:\"100%\"},children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(PageItem,{children:\"\\xAB\"}),/*#__PURE__*/_jsx(PageItem,{children:\"1\"}),/*#__PURE__*/_jsx(PageItem,{children:\"\\xBB\"})]})})})]})})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}